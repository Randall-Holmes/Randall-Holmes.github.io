\documentclass[12pt]{article}

\usepackage{amssymb}

\title{The Riemann integral}

\author{Randall Holmes}

\begin{document}

\maketitle

Let $a<b$ be real numbers.

We define $[a,b]$ as the set $\{x \in \mathbb R:a\leq x \leq b\}$, the closed interval from $a$ to $b$.

A partition $P$ is a finite sequence $\{x_i\}$ of elements of $[a,b]$ which is strictly increasing ($x_i<x_{i+1}$ where both are defined) and has $x_0=a$ and $x_n=b$.  The terminology here is strange because if $P$ is the sequence, why do we write $x_i$ instead of $P_i$?

I will write $\mathbb P[a,b]$ for the set of all partitions of $[a,b]$.

The partition determines a subdivision of $[a,b]$ into intervals, the subdivision being the set $\{[x_{i-1},x_i]:i \in \mathbb Z \wedge 0<i\leq n\}$.   The union of this set is $[a,b]$ but it is not a partition of $[a,b]$ in the usual sense because the sets into which $[a,b]$ is subdvided are not pairwise disjoint (they share endpoints).

We define notation for special infima and suprema involving functions.  Where $f$ is a bounded function on a set $A$, we define ${\tt sup}_A f$ as the least upper bound
of $\{f(x): x\in A\}$ and define ${\tt inf}_A f$ as the greatest lower bound
of $\{f(x): x\in A\}$.

We can now define the upper and lower sums for a bounded function $f$ on $[a,b]$ determined by a partition $P$.  He writes $L(f,P,[a,b])$ and $U(f,p,[a,b])$.  I will just write
$L(f,P)$ and $U(f,P)$.

We define $L(f,P)$ as $\Sigma_{i=1}^n (x_i-x_{i-1}){\tt inf}_{[x_{i-1},x_i]}f$.

We define $U(f,P)$ as $\Sigma_{i=1}^n (x_i-x_{i-1}){\tt sup}_{[x_{i-1},x_i]}f$.

We prove three inequalities involving these notions.  

Let $P'$ be a partition $\{y_i\}$ of $[a,b]$ such that the range of $P'$ includes the range of $P$ (that is, for every $i$ such that $0\leq i \leq n$, there is a $j$ such that $y_j=x_i$).
In particular, there is $m$ such that $y_m=b$.

The first inequality is $L(f,P)\leq U(f,P)$, the easiest, I think.

$$L(f,P) = \Sigma_{i=1}^n (x_i-x_{i-1}){\tt inf}_{[x_{i-1},x_i]}f$$

$$\leq \Sigma_{i=1}^n (x_i-x_{i-1}){\tt sup}_{[x_{i-1},x_i]}f$$ simply because for each $i$, ${\tt inf}_{[x_{i-1},x_i]}f\leq {\tt sup}_{[x_{i-1},x_i]}f$, so term by term
elements of the first finite series are less than elements of the second

$$= U(f,P)$$.

The second is $L(f,P) \leq L(f,P')$:  making partitions finer will leave the value of a lower sum fixed or increase it.
Let $k(i)$ be defined by $x_i = y_{k(i)}$.

$$L(f,P) = \Sigma_{i=1}^n (x_i-x_{i-1}){\tt inf}_{[x_{i-1},x_i]}f$$

$$= \Sigma_{i=1}^n (\Sigma_{j=k(i-1)+1}^{k(i)} (y_j-y_{j-1}){\tt inf}_{[x_{i-1},x_i]}f)$$

which changes the subdivision to the one determined by $P'$ without changing the function values

$$\leq \Sigma_{i=1}^n (\Sigma_{j=k(i-1)+1}^{k(i)} (y_j-y_{j-1}){\tt inf}_{[y_{j-1},y_j]}f)$$

because the infimum of the function on a subinterval $[y_j-1,y_j]$ of $[x_{i-1},x_i]$ will be greater than or equal to the infimum of the function on the whole interval:  it is a general fact
that the infimum of a function on a set $B \subseteq A$ is $\geq$ the infimum  of the same function on $A$.

$$= \Sigma_{j=1}^m (y_j-y_{j-1}){\tt inf}_{[y_{i-1},y_j]}f= L(f,P')$$

basically by the associative law of addition:  it is exactly the same sum with the subgrouping removed.

The proof of the third inequality $U(f,P') \leq U(f,P)$ [making a partition finer might fix an upper sum but will usually decrease it] is done by analogy with the previous proof: prove the equivalent $U(f,P) \geq U(f,P')$ in the same way that the previous inequality was proved, but replacing $\leq$ in the proof above with $\geq$ and $\inf$ with $\sup$, and use the
fact that the supremum of a function on $B \subseteq A$ is less than or equal to the supremum of the same function on $A$.

Don't forget that supremum and infimum are just fancy Latin for ``least upper bound" and ``greatest lower bound".

Now we have the theorem that for any bounded function $f$ on $[a,b]$ and partitions $P$, $Q$ we have $L(f,P) \leq U(f,Q)$.

We prove this.  Let $V$ be the partition whose range is the union of the range of $P$ and the range of $Q$.  Note that for purposes of the inequalities above, $V$ is both a $P'$ and a $Q'$:  it is finer than both $P$ and $Q$ (which have no relationship to each other assumed).

The inequality theorems above then establish that $L(f,P) \leq L(f,V) \leq U(f,V) \leq U(f,Q)$.

A corollary of this is that the set of lower sums $\{L(f,P):P \in \mathbb P[a,b]\}$ has an upper bound (any $U(f,Q)$ is an upper bound) and so has a least upper bound which we will
call $L(f,[a,b])$, and similarly the set of  upper sums $\{U(f,P):P \in \mathbb P[a,b]\}$ has a lower bound (any $L(f,Q)$ is a lower bound)  and so has a greatest lower bound
which we will call $U(f,[a,b])$.

We can then define the Riemann integral $\int_a^b f$ as equal to $L(f,[a,b])$ and to $U(f,[a,b])$ if these numbers are equal to each other, and otherwise undefined.





\end{document}